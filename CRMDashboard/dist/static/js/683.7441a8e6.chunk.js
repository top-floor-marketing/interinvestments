"use strict";(self.webpackChunkcrm_dashboard_plugin_react=self.webpackChunkcrm_dashboard_plugin_react||[]).push([[683],{57683:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a,i=n(4942),r=n(3010),s=n(78129),o=n(37915),l=n(1413),c=n(3577),d=n(73191),x=n(66245),g=n(80402),h=n(27019),p=n(70885),m=n(47313),u=n(29455),f=n(30168),b=(0,n(40043).gql)(a||(a=(0,f.Z)(["\n  query listings($perPage: Int!, $after: String) {\n    listings(\n      where: { orderby: { field: TITLE, order: ASC } }\n      first: $perPage\n      after: $after\n    ) {\n      nodes {\n        databaseId\n        title\n        status\n        neighborhoods {\n          nodes {\n            slug\n            title\n          }\n        }\n        listingData {\n          newDevelopment {\n            description\n            priceMin\n            priceMax\n            status\n            photos {\n              altText\n              databaseId\n              mimeType\n              sourceUrl\n              uri\n              status\n            }\n            nameOfDevelopment\n          }\n        }\n      }\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n    }\n  }\n"]))),y=function(){var e=(0,m.useState)(!1),t=(0,p.Z)(e,2),n=t[0],a=t[1],i=(0,m.useState)(20),r=(0,p.Z)(i,1)[0],s=(0,m.useState)([]),o=(0,p.Z)(s,2),l=o[0],c=o[1],d=(0,m.useState)(""),x=(0,p.Z)(d,2),g=x[0],h=x[1],f=(0,u.J)({name:"get-all-listing-crm",gql:b,config:{onSuccess:function(e){var t=e.listings,n=t.nodes,i=t.pageInfo;i.endCursor&&h(i.endCursor),c(n),a(!1)},onError:function(){a(!1)}},variables:{perPage:r,after:g}});return{listingData:l,isSkeleton:n,isLoading:f.isLoading,isFetching:f.isFetching,isError:f.isError,refetch:f.refetch}},j=n(9967),C=n(28817),w=n.n(C),v=n(46417),S=(0,r.k)((function(e,t,n){return{boxContainer:{display:"flex",flexDirection:"column",width:"100%",height:"100%",gap:e.other.spacing.p5},itemSkeleton:{width:"100%",height:"100px"}}})),T=function(){var e=S().classes,t=w()(Array(8),0);return(0,v.jsx)(d.x,{style:{height:500},offsetScrollbars:!0,children:(0,v.jsx)(s.x,{className:e.boxContainer,children:t.map((function(t,n){return(0,v.jsx)(j.O,{visible:!0,children:(0,v.jsx)(s.x,{className:e.itemSkeleton},n)},n)}))})})},k=n(71233),N=n(69706),Z=n.n(N),A=(0,r.k)((function(e,t,n){return{cardContainer:{width:"100%",height:"600px",boxShadow:e.shadows.md},boxContainer:{display:"flex",flexWrap:"wrap",flexDirection:"column",width:"100%",height:"100%",alignContent:"center",gap:e.other.spacing.p5,paddingBottom:e.other.spacing.p8},itemListing:{display:"flex",flexDirection:"row",width:"100%",minHeight:"80px",height:"max-content",padding:e.other.spacing.p5,gap:e.other.spacing.p8,alignContent:"center",backgroundColor:e.colors.gray[0],borderRadius:"10px","&:hover":{backgroundColor:e.colors.gray[5]}},avatarContainer:{marginTop:"auto",marginBottom:"auto"},textContainer:{display:"flex",flexGrow:1,flexDirection:"column",height:"100%",marginTop:"auto",marginBottom:"auto"},textTitle:{height:"min-content",fontSize:"18px",color:e.colors.dark[0],textTransform:"capitalize"},buttonContainer:{display:"flex",flexGrow:1,justifyContent:"flex-end",flexWrap:"wrap",flexDirection:"row",height:"max-content",marginTop:"auto",marginBottom:"auto",gap:e.other.spacing.p3},buttonItem:{span:{margin:0}}}})),D=function(e){var t=A().classes,n=(0,o.useSpring)({to:{opacity:1},from:{opacity:0},reset:!1,delay:400,config:{duration:300}}),a=y(),i=a.isSkeleton,r=a.listingData;return(0,v.jsx)(o.animated.div,{style:(0,l.Z)((0,l.Z)({},n),{},{gridArea:e.gridArea}),children:(0,v.jsx)(c.Z,{className:t.cardContainer,children:i?(0,v.jsx)(T,{}):(0,v.jsx)(d.x,{style:{height:550},offsetScrollbars:!0,children:(0,v.jsx)(s.x,{className:t.boxContainer,children:r.map((function(e,n){var a=Z()(e,["listingData","newDevelopment","photos"]),i=Z()(e,["neighborhoods","nodes"]);return(0,v.jsxs)(s.x,{className:t.itemListing,children:[(0,v.jsx)(x.q,{radius:"xxl",size:"xl",src:a?a[0].sourceUrl:"",alt:"Profile Image",className:t.avatarContainer}),(0,v.jsxs)(s.x,{className:t.textContainer,children:[(0,v.jsx)(g.x,{className:t.textTitle,children:e.title}),i.length>0&&(0,v.jsx)(g.x,{className:t.textTitle,children:i[0].slug})]}),(0,v.jsxs)(s.x,{className:t.buttonContainer,children:[(0,v.jsx)(h.z,{compact:!0,leftIcon:(0,v.jsx)(k.uTx,{size:14}),children:"View Details"}),(0,v.jsx)(h.z,{compact:!0,leftIcon:(0,v.jsx)(k.v37,{size:14}),color:"secondary",children:"Add to Profile"}),(0,v.jsx)(h.z,{compact:!0,className:t.buttonItem,leftIcon:(0,v.jsx)(k.dLw,{size:14}),color:"dark"}),(0,v.jsx)(h.z,{compact:!0,className:t.buttonItem,leftIcon:(0,v.jsx)(k.UWx,{size:14}),color:"dark"})]})]},n)}))})})})})},I=(0,r.k)((function(e,t,n){return{cardContainer:{width:"100%",minHeight:"200px",maxHeight:"900px",boxShadow:e.shadows.md,height:"100%"},boxContainer:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},titleCard:{fontSize:"20px",fontWeight:"700"}}})),z=function(e){var t=I().classes,n=(0,o.useSpring)({to:{opacity:1},from:{opacity:0},reset:!1,delay:300,config:{duration:300}});return(0,v.jsx)(o.animated.div,{style:(0,l.Z)((0,l.Z)({},n),{},{gridArea:e.gridArea}),children:(0,v.jsx)(c.Z,{className:t.cardContainer,children:(0,v.jsx)(g.x,{className:t.titleCard,children:"Latest Leads"})})})},L=n(61784),W=n(5845),H=n.n(W),P=n(97548),M=n.n(P),_=(0,r.k)((function(e,t,n){return{cardContainer:{width:"100%",minHeight:"400px",display:"flex",flexDirection:"column",gap:e.other.spacing.p5,boxShadow:e.shadows.md},titleCard:{fontSize:"20px",fontWeight:"700"},select:{maxWidth:"250px",marginLeft:"auto"}}})),q=function(e){var t=_().classes,n=(0,o.useSpring)({to:{opacity:1},from:{opacity:0},reset:!1,delay:100,config:{duration:500}});return(0,v.jsx)(o.animated.div,{style:(0,l.Z)((0,l.Z)({},n),{},{gridArea:e.gridArea}),children:(0,v.jsxs)(c.Z,{className:t.cardContainer,children:[(0,v.jsx)(g.x,{className:t.titleCard,children:"Lead Timeline"}),(0,v.jsx)(L.Ph,{placeholder:"Select a filter type",className:t.select,data:[{value:"year",label:"Year"},{value:"day",label:"Day"},{value:"month",label:"Month"},{value:"week",label:"Week"}],value:"year"}),(0,v.jsx)(M(),{highcharts:H(),options:{chart:{type:"line",margin:[0,0,0,0],spacingTop:0,height:250},title:{text:null},subtitle:{text:null},legend:{enabled:!1},credits:{enabled:!1},xAxis:{categories:["January","February","March","April","May","June","July","August","September","October","November","December"]},yAxis:{title:{text:""}},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!0}},series:[{name:"Leads",data:[7,6.9,9.5,14.5,18.4,21.5,25.2,26.5,23.3,18.3,13.9,9.6]}]}})]})})},B=(0,r.k)((function(e,t,n){return{cardContainer:{width:"100%",minHeight:"400px",display:"flex",flexDirection:"column",gap:e.other.spacing.p5,boxShadow:e.shadows.md},titleCard:{fontSize:"20px",fontWeight:"700"}}})),E=function(e){var t=B().classes;return(0,v.jsx)(c.Z,{className:t.cardContainer,children:(0,v.jsx)(g.x,{className:t.titleCard,children:"Listing Stats"})})},J=n(87196),O=(0,r.k)((function(e,t,n){var a;return{boxContainer:(a={display:"grid",width:"100%",minHeight:"300px",gap:e.other.spacing.p5,gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gridTemplateRows:"repeat(2, minmax(0, auto))",gridTemplateAreas:"\n    'a b b'\n    'd d c'\n    'd d c'\n    "},(0,i.Z)(a,"".concat(e.fn.smallerThan("lg")),{gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gridTemplateRows:"repeat(3, minmax(0, auto))",gridTemplateAreas:"\n    'b b'\n    'a c'\n    'd d'\n    "}),(0,i.Z)(a,"".concat(e.fn.smallerThan("md")),{gridTemplateColumns:"repeat(1, minmax(0, 1fr))",gridTemplateRows:"repeat(4, minmax(0, auto))",gridTemplateAreas:"\n    'a'\n    'b'\n    'c'\n    'd'\n    "}),a),boxItem:{minHeight:"100px",width:"100%",height:"auto"}}})),R=function(){var e=O().classes;return(0,v.jsx)(J.Z,{delay:300,duration:500,children:(0,v.jsxs)(s.x,{className:e.boxContainer,children:[(0,v.jsx)(J.Z,{style:{gridArea:"a"},delay:100,duration:500,children:(0,v.jsx)(E,{})}),(0,v.jsx)(q,{gridArea:"b"}),(0,v.jsx)(z,{gridArea:"c"}),(0,v.jsx)(D,{gridArea:"d"})]})})}},87196:function(e,t,n){var a=n(1413),i=n(37915),r=n(46417);t.Z=function(e){var t=e.style,n=e.delay,s=void 0===n?500:n,o=e.duration,l=void 0===o?500:o,c=e.children,d=(0,i.useSpring)({to:{opacity:1},from:{opacity:0},delay:s,config:{duration:l}});return(0,r.jsx)(i.animated.div,{style:(0,a.Z)((0,a.Z)({},d),t),children:c})}}}]);